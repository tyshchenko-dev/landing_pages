(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{var e,t;e=function(e){document.documentElement.classList.add("webp")},(t=new Image).onload=t.onerror=function(){e(t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";const o=document.querySelector(".header__burger");if(o){const e=document.querySelector(".header__navigation"),t=document.querySelector(".header"),r=document.body;o.addEventListener("click",(()=>{t.classList.toggle("active"),r.classList.toggle("active"),o.classList.toggle("active"),e.classList.toggle("active")})),document.querySelectorAll(".header__link").forEach((c=>{c.addEventListener("click",(()=>{t.classList.remove("active"),r.classList.remove("active"),o.classList.remove("active"),e.classList.remove("active")}))}))}document.querySelector(".slider")&&new Swiper(".slider",{autoplay:!0,slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:".slider__arrow-next",prevEl:".slider__arrow-prev"},pagination:{el:".slider__pagination",bulletClass:"slider__bullet",bulletActiveClass:"active",clickable:!0}}),document.querySelector("[data-fancybox]")&&Fancybox.bind("[data-fancybox]",{groupAttr:!1}),function(){try{const e=document.querySelector("[data-id='days']"),t=document.querySelector("[data-id='hours']"),o=document.querySelector("#sum");let r=4,c=7e3;const a=e.querySelector(`[data-value="${r}"]`),l=t.querySelector(`[data-value="${c}"]`);function n(e,t,o){e.classList.contains("calculator__trigger")&&("days"===o?r=+e.getAttribute("data-value"):c=+e.getAttribute("data-value"),t.childNodes.forEach((e=>{"BUTTON"===e.tagName&&e.classList.remove("active")})),e.classList.add("active"))}function s(e,t,r=4){let c=e*t*r;c=c.toLocaleString("ru-RU"),o.textContent=c}n(a,e,"days"),n(l,t,"hours"),s(r,c),e.addEventListener("click",(t=>{n(t.target,e,"days"),s(r,c)})),t.addEventListener("click",(e=>{n(e.target,t,"hours"),s(r,c)}))}catch(i){console.log(i)}}(),(()=>{const e=document.querySelector(".form"),t=document.querySelectorAll('[name="file"]');t&&t.forEach(((e,t)=>{let o="";e.addEventListener("change",(()=>{"files"in e?o=0==e.files.length?"Выберите один или несколько файлов":e.files[e.files.length-1].name+"<br>":""==e.value?o+="Выберите один или несколько файлов":(o+="Расширение файла не поддерживается вашим браузером!",o+="Путь выбранного файла: "+e.value),document.querySelectorAll(".form__file-button")[t].innerHTML=o}))})),e.addEventListener("submit",(async t=>{t.preventDefault(),e.querySelectorAll(".error-text").forEach((e=>{e.remove()}));const o=e.querySelector(".form__error");o&&o.remove();const r=e.querySelector('[name="contact"]'),c=[];if(r.value){r.classList.remove("input--error");const e=r.parentElement;e.querySelector(".error-text")&&e.querySelector(".error-text").remove()}else{c.push("Contact is required"),r.classList.add("input--error");const e=document.createElement("p");e.classList.add("error-text"),e.innerText="Важно заполнить это поле",r.parentElement.appendChild(e)}if(c.length)return void console.log(c);const a=new FormData;try{const e=document.querySelector(".loader"),t=document.body;e.classList.add("active"),t.style.overflow="hidden";const o=await fetch("https://webhook.site/89b04d04-cd87-4af3-936e-5ff3fb7f2346",{method:"POST",body:a}).finally((()=>{const e=document.querySelector(".loader"),t=document.body;e.classList.remove("active"),t.style.overflow="auto"}));o.ok?console.log("Form submitted successfully"):console.error("Error submitting the form")}catch(t){const o=document.querySelector(".loader"),r=document.body;o.classList.remove("active"),r.style.overflow="auto";const c=document.createElement("p");c.classList.add("form__error"),c.textContent="Произошла ошибка отправки формы",e.querySelector(".form__wrapper").append(c),console.error("Error fetching data:",t)}}))})()}))})();